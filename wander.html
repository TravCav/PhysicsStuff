<html>

<head>
	<style>
		body {
			background-color: #000000;
			margin: 0px;
		}
		
		canvas,
		img {
			image-rendering: optimizeSpeed;
			image-rendering: -moz-crisp-edges;
			image-rendering: -webkit-optimize-contrast;
			image-rendering: optimize-contrast;
			-ms-interpolation-mode: nearest-neighbor;
		}
	</style>
	<title>stuff</title>
</head>

<body>
	<canvas id="gridCanvas" width="1000" height="1000"></canvas>
	<script type="text/javascript">
		var cvs = document.getElementById('gridCanvas')
		var ctx = cvs.getContext('2d');
		
		ctx.canvas.width = window.innerWidth;
		ctx.canvas.height = window.innerHeight;
		var centerX = ctx.canvas.width / 2;
		var centerY = ctx.canvas.height / 2;
		var pixels;
		var dotCount = 100;
		var friction = 1;//.025;
		var kick = 0;
		var halfKick = kick / 2;
		var gravity = 1;

		function Color(r, g, b, a){
			this.r = r || 255;
			this.g = g || 255;
			this.b = b || 255;
			this.a = a || 255;
		}
		
		function Point(x, y){
			this.x = x || 0;
			this.y = y || 0;
		}
		
		function Dot(x, y, m){
			var self = this;
			self.x = x || Math.floor(Math.random() * ctx.canvas.width);
			self.y = y || Math.floor(Math.random() * ctx.canvas.height);
			self.color = new Color();
		
			self.vector = new Point((Math.random() *kick) - halfKick, (Math.random() * kick) - halfKick);
			self.mass =  m || 1;
			
			self.Wrap = function(){
					// wrap
					 if (self.x > ctx.canvas.width) { self.x = 0; }
					 if (self.x < 0) { self.x = ctx.canvas.width; }
					 if (self.y > ctx.canvas.height) { self.y = 0; }
					 if (self.y < 0) { self.y = ctx.canvas.height; }
			}
						
			self.DoMovement = function(){
				self.Wrap();
			}
		}
		
		function init() {
			var vectors = [];
			for (var i = 0; i <= dotCount; i++) { vectors.push(new Dot()); }
					
			DrawGrid(vectors);
			
		}
	
		function DrawGrid(dots) {
		   for(var i = dotCount; i > 0; i--) {
			   var r = Math.random() * 6.28;
			   dots[i].x += Math.sin(r);
			   dots[i].y += Math.cos(r);
			   }
			
			for(var i = dotCount; i > 0; i--){ 
				dots[i].DoMovement();
			}
			
		
			// clear screen
			pixels = ctx.createImageData(ctx.canvas.width, ctx.canvas.height);
	
			var index = 0;
			var dot;
			
			// draw
			for (var i = dotCount; i > 0; i--) {
				dot = dots[i];
				var x = Math.floor(dot.x);
				var y = Math.floor(dot.y);
				index = (x + y * ctx.canvas.width) * 4;
				if (!(x < 0 || y < 0 || x > ctx.canvas.width || y > ctx.canvas.height)){
					pixels.data[index] = dot.color.r;
					pixels.data[index+1] = dot.color.g;
					pixels.data[index+2] = dot.color.b;
					pixels.data[index+3] = dot.color.a;
				}
			}
			
			ctx.putImageData(pixels, 0, 0);
			
			setTimeout(function () { DrawGrid(dots) }, 1);
			return;
		}
	
		init();
	</script>
</body>

</html>